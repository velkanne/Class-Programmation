<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagrama de Clases UML (SVG Puro)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            text-align: center;
        }
        h1 { color: #333; }
        .container {
            max-width: 900px; 
            margin: 20px auto; 
            padding: 10px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        /* Estilos generales para el diagrama SVG */
        .uml-diagram-svg {
            border: 1px solid #ccc;
            width: 100%;
            height: auto;
            min-height: 650px; /* Altura mínima para mostrar todo */
        }
        .class-box { fill: #fff; stroke: #222; stroke-width: 1px; }
        .class-header { fill: #f0f0f0; }
        .class-name { font-weight: bold; font-size: 14px; }
        .abstract-name { font-style: italic; }
        .attribute, .method { font-size: 11px; text-anchor: start; }
        .relation-line { stroke: #222; stroke-width: 1.5px; fill: none; }
        .label { font-size: 11px; fill: #222; text-anchor: middle; }
    </style>
</head>
<body>

    <h1>Diagrama de Clases UML del Proyecto (SVG Puro)</h1>
    <p>Este diagrama se dibuja con SVG nativo y no utiliza la librería Mermaid.</p>

    <div class="container">
        <svg class="uml-diagram-svg" width="800" height="650" viewBox="0 0 800 650" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <marker id="inheritance" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                    <polygon points="0 3.5, 10 7, 10 0" style="fill:#fff; stroke:#222; stroke-width:1"/>
                </marker>
                <marker id="aggregation" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
                    <polygon points="10 5, 5 0, 0 5, 5 10" style="fill:#fff; stroke:#222; stroke-width:1"/>
                </marker>
                <marker id="dependency" markerWidth="6" markerHeight="6" refX="6" refY="3" orient="auto">
                    <path d="M 6 3 L 0 5 L 0 1" style="fill:#222"/>
                </marker>
            </defs>

            <rect class="class-box" x="300" y="50" width="220" height="150"/>
            <rect class="class-header" x="300" y="50" width="220" height="30"/>
            <text x="410" y="70" class="class-name abstract-name">ObjetoJuego</text>
            <text x="310" y="95" class="attribute"># nombre : String</text>
            <text x="310" y="115" class="attribute"># descripcion : String</text>
            <line x1="300" y1="125" x2="520" y2="125" style="stroke:#222; stroke-width:1;"/>
            <text x="310" y="145" class="method">+ ObjetoJuego(String, String)</text>
            <text x="310" y="165" class="method abstract-name">+ abstract toString() : String</text>

            <rect class="class-box" x="50" y="270" width="180" height="90"/>
            <rect class="class-header" x="50" y="270" width="180" height="30"/>
            <text x="140" y="290" class="class-name">Item</text>
            <text x="60" y="315" class="attribute">- valor : int</text>
            <line x1="50" y1="325" x2="230" y2="325" style="stroke:#222; stroke-width:1;"/>
            <text x="60" y="345" class="method">+ toString() : String</text>
            
            <rect class="class-box" x="550" y="270" width="230" height="130"/>
            <rect class="class-header" x="550" y="270" width="230" height="30"/>
            <text x="665" y="290" class="class-name">Habilidad</text>
            <text x="560" y="315" class="attribute">- costoMana : int</text>
            <text x="560" y="335" class="attribute">- nivelRequerido : int</text>
            <line x1="550" y1="345" x2="780" y2="345" style="stroke:#222; stroke-width:1;"/>
            <text x="560" y="365" class="method">+ Habilidad(String, String, int, int) throws...</text>
            <text x="560" y="385" class="method">+ toString() : String</text>

            <rect class="class-box" x="50" y="450" width="300" height="150"/>
            <rect class="class-header" x="50" y="450" width="300" height="30"/>
            <text x="200" y="470" class="class-name">CatalogoJuegos</text>
            <text x="60" y="495" class="attribute">- static catalogo : ArrayList&lt;ObjetoJuego&gt;</text>
            <text x="60" y="515" class="attribute">- static scanner : Scanner</text>
            <line x1="50" y1="525" x2="350" y2="525" style="stroke:#222; stroke-width:1;"/>
            <text x="60" y="545" class="method">+ main(String[])</text>
            <text x="60" y="565" class="method">+ registrarHabilidad()</text>
            <text x="60" y="585" class="method">+ mostrarCatalogo()</text>

            <rect class="class-box" x="500" y="550" width="280" height="60"/>
            <rect class="class-header" x="500" y="550" width="280" height="30"/>
            <text x="640" y="570" class="class-name">HabilidadInvalidaExcepcion</text>

            <rect class="class-box" x="550" y="450" width="180" height="30"/>
            <rect class="class-header" x="550" y="450" width="180" height="30"/>
            <text x="640" y="470" class="class-name abstract-name">Exception</text>

            <line class="relation-line" x1="140" y1="270" x2="410" y2="200" marker-end="url(#inheritance)"/>
            <text x="270" y="240" class="label">Herencia</text>

            <line class="relation-line" x1="665" y1="270" x2="410" y2="200" marker-end="url(#inheritance)"/>
            <text x="530" y="240" class="label">Herencia</text>

            <line class="relation-line" x1="640" y1="550" x2="640" y2="480" marker-end="url(#inheritance)"/>
            <text x="680" y="515" class="label">Extends</text>

            <line class="relation-line" x1="200" y1="450" x2="410" y2="200" marker-start="url(#aggregation)"/>
            <text x="350" y="325" class="label">1..* Contiene</text>

            <line class="relation-line" x1="665" y1="400" x2="665" y2="550" style="stroke-dasharray: 4 2;" marker-end="url(#dependency)"/>
            <text x="665" y="420" class="label">throws</text>

            <line class="relation-line" x1="350" y1="535" x2="550" y2="380" style="stroke-dasharray: 4 2;" marker-end="url(#dependency)"/>
            <text x="450" y="480" class="label">usa/registra</text>
            
        </svg>
    </div>

</body>
</html>